# Flexes å¹³å°æ•°æ®åº“æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬ç›®å½•åŒ…å« Flexes è¿œç¨‹å·¥ç¨‹æ‹›è˜å¹³å°çš„å®Œæ•´æ•°æ®åº“è®¾è®¡å’Œç›¸å…³è„šæœ¬æ–‡ä»¶ã€‚

## ğŸ“ æ–‡ä»¶è¯´æ˜

### 1. `flexes_database.sql` - ä¸»æ•°æ®åº“ç»“æ„
- **ç”¨é€”**: åˆ›å»ºå®Œæ•´çš„æ•°æ®åº“ç»“æ„
- **åŒ…å«å†…å®¹**:
  - æ•°æ®åº“åˆ›å»º
  - æ‰€æœ‰æ•°æ®è¡¨å®šä¹‰
  - ç´¢å¼•å’Œå¤–é”®çº¦æŸ
  - è§†å›¾å®šä¹‰
  - å­˜å‚¨è¿‡ç¨‹
  - è§¦å‘å™¨
  - åˆå§‹åŒ–æ•°æ®

### 2. `database_indexes.sql` - æ€§èƒ½ä¼˜åŒ–ç´¢å¼•
- **ç”¨é€”**: æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–
- **åŒ…å«å†…å®¹**:
  - å¤åˆç´¢å¼•ä¼˜åŒ–
  - æŸ¥è¯¢æ€§èƒ½ç›‘æ§è„šæœ¬
  - æ•°æ®æ¸…ç†è„šæœ¬
  - å¤‡ä»½è„šæœ¬ç¤ºä¾‹

### 3. `test_data.sql` - æµ‹è¯•æ•°æ®
- **ç”¨é€”**: å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒæ•°æ®å¡«å……
- **åŒ…å«å†…å®¹**:
  - æµ‹è¯•ç”¨æˆ·è´¦æˆ·
  - ç¤ºä¾‹å…¬å¸å’ŒèŒä½
  - æ¨¡æ‹Ÿç”³è¯·å’Œæ¶ˆæ¯
  - æµ‹è¯•æ–‡ç« å’Œé…ç½®

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆ›å»ºæ•°æ®åº“

```bash
# è¿æ¥åˆ°MySQL
mysql -u root -p

# æ‰§è¡Œä¸»æ•°æ®åº“è„šæœ¬
source /path/to/flexes_database.sql

# æ‰§è¡Œç´¢å¼•ä¼˜åŒ–è„šæœ¬
source /path/to/database_indexes.sql

# (å¯é€‰) æ’å…¥æµ‹è¯•æ•°æ®
source /path/to/test_data.sql
```

### 2. éªŒè¯å®‰è£…

```sql
-- æ£€æŸ¥æ•°æ®åº“æ˜¯å¦åˆ›å»ºæˆåŠŸ
USE flexes_platform;
SHOW TABLES;

-- æ£€æŸ¥è¡¨ç»“æ„
DESCRIBE users;
DESCRIBE jobs;
DESCRIBE job_applications;

-- æ£€æŸ¥åˆå§‹æ•°æ®
SELECT * FROM job_categories;
SELECT * FROM system_configs;
```

## ğŸ“Š æ•°æ®åº“è®¾è®¡æ¦‚è§ˆ

### æ ¸å¿ƒè¡¨ç»“æ„

```
users (ç”¨æˆ·ä¸»è¡¨)
â”œâ”€â”€ candidates (æ±‚èŒè€…ä¿¡æ¯)
â”œâ”€â”€ employers (é›‡ä¸»ä¿¡æ¯)
â””â”€â”€ operation_logs (æ“ä½œæ—¥å¿—)

jobs (èŒä½è¡¨)
â”œâ”€â”€ job_categories (èŒä½åˆ†ç±»)
â”œâ”€â”€ job_applications (èŒä½ç”³è¯·)
â””â”€â”€ daily_application_limits (ç”³è¯·é™åˆ¶)

messages (æ¶ˆæ¯è¡¨)
notifications (é€šçŸ¥è¡¨)
articles (æ–‡ç« è¡¨)
tags (æ ‡ç­¾è¡¨)
reviews (è¯„ä»·è¡¨)
```

### ç”¨æˆ·è§’è‰²å®šä¹‰

| è§’è‰²ID | è§’è‰²åç§° | è¯´æ˜ |
|--------|----------|------|
| 0 | ç®¡ç†å‘˜ | å¹³å°ç®¡ç†å’Œç»´æŠ¤ |
| 1 | æ±‚èŒè€… | å¯»æ‰¾å·¥ä½œæœºä¼š |
| 2 | é›‡ä¸» | å‘å¸ƒèŒä½å’Œæ‹›è˜ |

### å…³é”®ä¸šåŠ¡è§„åˆ™

1. **ç”³è¯·é™åˆ¶**: æ±‚èŒè€…æ¯å¤©æœ€å¤šç”³è¯·20ä¸ªèŒä½
2. **é‡å¤ç”³è¯·**: ä¸å…è®¸å¯¹åŒä¸€èŒä½é‡å¤ç”³è¯·
3. **èŒä½å®¡æ ¸**: æ–°å‘å¸ƒèŒä½éœ€è¦ç®¡ç†å‘˜å®¡æ ¸
4. **é‚®ç®±éªŒè¯**: ç”¨æˆ·æ³¨å†Œéœ€è¦é‚®ç®±éªŒè¯

## ğŸ”§ é…ç½®è¯´æ˜

### ç³»ç»Ÿé…ç½®é¡¹

| é…ç½®é”® | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| daily_application_limit | 20 | æ¯æ—¥ç”³è¯·é™åˆ¶ |
| job_approval_required | true | èŒä½æ˜¯å¦éœ€è¦å®¡æ ¸ |
| email_verification_required | true | æ˜¯å¦éœ€è¦é‚®ç®±éªŒè¯ |
| max_resume_size | 5242880 | ç®€å†æ–‡ä»¶æœ€å¤§å¤§å°(5MB) |

### æ•°æ®åº“è¿æ¥é…ç½®

```yaml
# æ¨èé…ç½®
database:
  host: localhost
  port: 3306
  name: flexes_platform
  charset: utf8mb4
  collation: utf8mb4_unicode_ci
  
# è¿æ¥æ± é…ç½®
pool:
  min_connections: 5
  max_connections: 20
  idle_timeout: 300
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ç´¢å¼•ç­–ç•¥

1. **ä¸»é”®ç´¢å¼•**: æ‰€æœ‰è¡¨éƒ½æœ‰è‡ªå¢ä¸»é”®
2. **å¤–é”®ç´¢å¼•**: æ‰€æœ‰å¤–é”®å­—æ®µéƒ½æœ‰ç´¢å¼•
3. **æŸ¥è¯¢ç´¢å¼•**: åŸºäºå¸¸ç”¨æŸ¥è¯¢æ¨¡å¼åˆ›å»ºå¤åˆç´¢å¼•
4. **å…¨æ–‡ç´¢å¼•**: èŒä½æ ‡é¢˜å’Œæè¿°æ”¯æŒå…¨æ–‡æœç´¢

### æŸ¥è¯¢ä¼˜åŒ–å»ºè®®

```sql
-- èŒä½æœç´¢ä¼˜åŒ–
SELECT * FROM jobs 
WHERE status = 1 
  AND category_id = ? 
  AND location LIKE ? 
ORDER BY created_at DESC 
LIMIT 20;

-- ä½¿ç”¨å¤åˆç´¢å¼•: idx_jobs_search

-- ç”³è¯·è®°å½•æŸ¥è¯¢ä¼˜åŒ–
SELECT * FROM job_applications 
WHERE candidate_id = ? 
  AND status IN (1,2,3) 
ORDER BY applied_at DESC;

-- ä½¿ç”¨å¤åˆç´¢å¼•: idx_applications_candidate_status
```

## ğŸ”’ å®‰å…¨è€ƒè™‘

### æ•°æ®å®‰å…¨

1. **å¯†ç åŠ å¯†**: ä½¿ç”¨bcryptåŠ å¯†å­˜å‚¨
2. **SQLæ³¨å…¥é˜²æŠ¤**: ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
3. **æ•°æ®å¤‡ä»½**: å®šæœŸè‡ªåŠ¨å¤‡ä»½
4. **è®¿é—®æ§åˆ¶**: åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶

### å¤‡ä»½ç­–ç•¥

```bash
# æ¯æ—¥å¤‡ä»½è„šæœ¬
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
mysqldump -u backup_user -p --single-transaction \
  --routines --triggers flexes_platform > \
  /backup/flexes_backup_$DATE.sql

# ä¿ç•™30å¤©å¤‡ä»½
find /backup -name "flexes_backup_*.sql" -mtime +30 -delete
```

## ğŸ§ª æµ‹è¯•æ•°æ®è¯´æ˜

### æµ‹è¯•è´¦æˆ·

| é‚®ç®± | è§’è‰² | å¯†ç  | è¯´æ˜ |
|------|------|------|------|
| admin@flexes.work | ç®¡ç†å‘˜ | password123 | ç³»ç»Ÿç®¡ç†å‘˜ |
| john.doe@example.com | æ±‚èŒè€… | password123 | é«˜çº§å‰ç«¯å¼€å‘ |
| hr@techcorp.com | é›‡ä¸» | password123 | TechCorp HR |

### æµ‹è¯•æ•°æ®åŒ…å«

- 5ä¸ªæ±‚èŒè€…è´¦æˆ·å’Œè¯¦ç»†èµ„æ–™
- 3ä¸ªé›‡ä¸»è´¦æˆ·å’Œå…¬å¸ä¿¡æ¯
- 3ä¸ªæµ‹è¯•èŒä½
- èŒä½ç”³è¯·è®°å½•
- æ¶ˆæ¯å’Œé€šçŸ¥ç¤ºä¾‹
- åšå®¢æ–‡ç« ç¤ºä¾‹

## ğŸ”„ æ•°æ®è¿ç§»

### ç‰ˆæœ¬å‡çº§

```sql
-- æ£€æŸ¥å½“å‰ç‰ˆæœ¬
SELECT config_value FROM system_configs 
WHERE config_key = 'database_version';

-- å‡çº§è„šæœ¬ç¤ºä¾‹
-- ALTER TABLE users ADD COLUMN phone VARCHAR(20);
-- UPDATE system_configs SET config_value = '1.1' 
-- WHERE config_key = 'database_version';
```

### æ•°æ®å¯¼å…¥å¯¼å‡º

```bash
# å¯¼å‡ºç‰¹å®šè¡¨æ•°æ®
mysqldump -u username -p flexes_platform users candidates > users_backup.sql

# å¯¼å…¥æ•°æ®
mysql -u username -p flexes_platform < users_backup.sql
```

## ğŸ“ æ”¯æŒå’Œç»´æŠ¤

### å¸¸è§é—®é¢˜

1. **è¿æ¥è¶…æ—¶**: æ£€æŸ¥è¿æ¥æ± é…ç½®å’Œç½‘ç»œè¿æ¥
2. **æŸ¥è¯¢æ…¢**: ä½¿ç”¨EXPLAINåˆ†ææŸ¥è¯¢è®¡åˆ’ï¼Œæ£€æŸ¥ç´¢å¼•ä½¿ç”¨
3. **ç£ç›˜ç©ºé—´**: å®šæœŸæ¸…ç†æ—¥å¿—è¡¨å’Œä¸´æ—¶æ–‡ä»¶
4. **é”ç­‰å¾…**: ä¼˜åŒ–äº‹åŠ¡å¤§å°ï¼Œé¿å…é•¿äº‹åŠ¡

### ç›‘æ§æŒ‡æ ‡

- è¿æ¥æ•°ä½¿ç”¨ç‡
- æŸ¥è¯¢å“åº”æ—¶é—´
- æ…¢æŸ¥è¯¢æ•°é‡
- ç£ç›˜ä½¿ç”¨ç‡
- ç´¢å¼•å‘½ä¸­ç‡

---

**ç»´æŠ¤å›¢é˜Ÿ**: Flexes å¼€å‘å›¢é˜Ÿ  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-09-17
